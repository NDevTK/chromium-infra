<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../shared/field-types.html">
<link rel="import" href="../shared/flt-helpers.html">

<dom-module id="mr-edit-field">
  <template>
    <style>
      :host {
        display: block;
      }
      :host([hidden]) {
        display: none;
      }
      input,
      select {
        @apply --mr-edit-field-styles;
      }
      input[type="checkbox"] {
        width: auto;
      }
    </style>
    <template is="dom-if" if="[[_fieldIsEnum(type)]]">
      <template is="dom-if" if="[[multi]]">
        <template is="dom-repeat" items="[[options]]" as="option">
          <label title$="[[option.docstring]]">
            <input
              class="enum-input"
              type="checkbox"
              name$="[[name]]"
              value$="[[option.optionName]]"
              checked$="[[_optionInValues(initialValues, option.optionName)]]"
            />
            [[option.optionName]]
          </label>
        </template>
      </template>
      <select id="editSelect" hidden$="[[multi]]">
        <option value="">----</option>
        <template is="dom-repeat" items="[[options]]" as="option">
          <option
            value$="[[option.optionName]]"
            selected$="[[_computeIsSelected(_initialValue, option.optionName)]]"
          >
            [[option.optionName]]
            <template is="dom-if" if="[[option.docstring]]">
              - [[option.docstring]]
            </template>
          </option>
        </template>
      </select>
    </template>

    <input id="editInput" value$="[[_initialValue]]" hidden$="[[!_fieldIsBasic]]" />
  </template>
  <script src="./mr-edit-field.js"></script>
<dom-module>
