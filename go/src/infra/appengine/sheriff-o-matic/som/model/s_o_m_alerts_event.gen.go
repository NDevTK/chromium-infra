// THIS FILE IS AUTOGENERATED. DO NOT MODIFY.

package model

import pb "infra/libs/bqschema/tabledef"
import time "time"

// SOMAlertsEventTable is the TableDef for the
// "events" dataset's "alerts" table.
var SOMAlertsEventTable = &pb.TableDef{
	DatasetId: "events",
	TableId:   "alerts",
}

// SOMAlertsEvent_BuildFailures is a record for the "build_failures" field.
type SOMAlertsEvent_BuildFailures struct {
	// The name of the master.
	Master string `bigquery:"master"`

	// The name of the builder.
	Builder string `bigquery:"builder"`

	// The name of the failing step.
	Step string `bigquery:"step"`

	// The earliest known build number for this run of failures.
	FirstFailure int64 `bigquery:"first_failure"`

	// The latest known build number for this run of failures.
	LatestFailure int64 `bigquery:"latest_failure"`

	// The latest known build that passed before this alert.
	LatestPassing int64 `bigquery:"latest_passing"`
}

// SOMAlertsEvent_Alerts is a record for the "alerts" field.
type SOMAlertsEvent_Alerts struct {
	// An opaque key generated for each alert.
	Key string `bigquery:"key"`

	// Human-readable title for the alert.
	Title string `bigquery:"title"`

	// Human readable description of the alert.
	Body string `bigquery:"body"`

	// The type of alert, from AlertType constants in infra/monitoring/messages/alerts.go.
	Type string `bigquery:"type"`

	// Details about builder failures grouped into this alert.
	BuildFailures []*SOMAlertsEvent_BuildFailures `bigquery:"build_failures"`
}

// SOMAlertsEvent is the schema for "SOMAlertsEventTable".
type SOMAlertsEvent struct {
	// Name of the tree for the alerts.
	Tree string `bigquery:"tree"`

	// Timestamp when the alerts were generated.
	Timestamp time.Time `bigquery:"timestamp"`

	Alerts []*SOMAlertsEvent_Alerts `bigquery:"alerts"`
}
