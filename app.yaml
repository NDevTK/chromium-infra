application: chromium-status
version: 1
runtime: python
api_version: 1

inbound_services:
- xmpp_message

handlers:
- url: /(.*\.(html|js))
  static_files: static/\1
  upload: static/(.*\.(html|js))

# main will look for a replacement in blobstore, if not, will redirect to
# static/
- url: /([^/]+\.(gif|png|jpg|ico))
  script: main.py

- url: /static/([^/]+\.(gif|png|jpg|ico))
  static_files: static/\1
  upload: static/([^/]+\.(gif|png|jpg|ico))

- url: /stylesheets
  static_dir: stylesheets

- url: /templates
  script: templates

- url: /restricted/.*
  script: main.py
  login: admin

- url: /.*
  script: main.py


# http://code.google.com/appengine/docs/python/config/appconfig.html#Builtin_Handlers
builtins:
- admin_redirect: on
- appstats: on
- datastore_admin: on
- deferred: on
- mapreduce: on
- remote_api: on


# Search DEFAULT_SKIP_FILES in google.appengine.api.appinfo plus a few others
skip_files: |
    ^(.*/)?(
    (app\.yaml)|
    (app\.yml)|
    (index\.yaml)|
    (index\.yml)|
    (#.*#)|
    (.*~)|
    (.*\.py[co])|
    (.*/RCS/.*)|
    (\..*)|
    (tests/.*)|
    (tools/.*)|
    ([A-Z]+(\.py)?)|
    (Makefile)
    )$
