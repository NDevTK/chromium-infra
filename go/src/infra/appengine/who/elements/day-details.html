<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-tooltip/paper-tooltip.html">

<dom-module id="day-details">
  <template>
    <style>
    </style>

    Details for [[day]]

    <template is="dom-if" if="[[bugs]]">
      <table>
        <tr>
          <th>Time</th>
          <th>Bug</th>
        </tr>
        <template is="dom-repeat" for="[[bugs]]">
          <td>[[item.time]]</td>
          <td><a href="[[item.link]]">[[item.id]]</a></td>
        </template>
      </table>
    </template>

    <template is="dom-if" if="[[changes]]">
      <table>
        <tr>
          <th>Time</th>
          <th>CLs</th>
        </tr>
        <template is="dom-repeat" for="[[changes]]">
          <td>[[item.time]]</td>
          <td><a href="https://chromium-review.googlesource.com/[[item._number]]">[[item.subject]]</a></td>
        </template>
      </table>
    </template>

  </template>
  <script>
    'use strict';

    class DayDetails extends Polymer.Element {
      static get is() { return 'day-details'; }


      // TODO(jojwang): for now assuming these come in order
      // if not, I will sort by time.
      // TODO(jojwang): put all links on the same timeline, if time allows.
      // For now, assuming these are all arrays of Object{time, link}.
      static get properties() {
        return {
          changes: {
            type: Array,
            value: () => { return []; }
          },
          bugs: {
            type: Array,
            value: () => { return []; }
          },
          day: Date,
        }
      }
    }
    customElements.define(DayDetails.is, DayDetails);
  </script>
</dom-module>
