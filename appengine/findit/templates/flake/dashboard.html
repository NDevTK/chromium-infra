<!DOCTYPE html>
<head>
  <title>Flaky tests</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="/common.css">
  <style type="text/css">
    .truncated {
      width: 300px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
  </style>
</head>
<body>
<h1> Flaky tests </h1>
  <form method="get" action="/waterfall/list-flakes">
    <table>
      <tr>
        <td style="text-align:right">Master:</td>
        <td><input type="text" name="master_name" id="master_name" size="150" placeholder="chromium.mac"/></td>
      </tr>
      <tr>
        <td style="text-align:right">Builder:</td>
        <td><input type="text" name="builder_name" id="builder_name" size="150" placeholder="Mac10.9 Tests"/></td>
      </tr>
      <tr>
        <td style="text-align:right">Build Number:</td>
        <td><input type="text" name="build_number" id="build_number" size="150" placeholder="28133"/></td>
      </tr>
      <tr>
        <td style="text-align:right">Step:</td>
        <td><input type="text" name="step_name" id="step_name" size="150" placeholder="unit_tests on Mac-10.9"/></td>
      </tr>
      <tr>
        <td style="text-align:right">Test:</td>
        <td><input type="text" name="test_name" id="test_name" size="150" placeholder="DesktopEngagementServiceTest.TestTimeoutDiscount"/></td>
      </tr>
    </table>
    <input type="submit" value="Filter">
  </form>
<br><br><br>
<table>
<thead>
  <tr>
        <th>Request Time</th>
        <th>Master</th>
        <th>Builder</th>
        <th>Build</th>
        <th style="width:100px">Step</th>
        <th style="width:300px">Test</th>
        <th>Status</th>
        <th>Suspected Build</th>
        <th>Graph</th>
  </tr>
</thead>
<tbody>
  {% for master_flake_analysis in master_flake_analyses %}
  <tr>
    <td>  {{master_flake_analysis.request_time or ''}} </td>
    <td>  {{master_flake_analysis.master_name}} </td>
    <td>  {{master_flake_analysis.builder_name}} </td>
    <td>  {{master_flake_analysis.build_number}} </td>
    <td>  <div title="{{master_flake_analysis.step_name}}" class="truncated">{{master_flake_analysis.step_name}}</div> </td>
    <td>  <div title="{{master_flake_analysis.test_name}}" class="truncated">{{master_flake_analysis.test_name}}</div> </td>
    <td>  {{master_flake_analysis.status}} </td>
    <td>  {{master_flake_analysis.suspected_build or ''}} </td>
    <td>
      <a href="/waterfall/check-flake?master_name={{master_flake_analysis.master_name}}&builder_name={{master_flake_analysis.builder_name}}&build_number={{master_flake_analysis.build_number}}&step_name={{master_flake_analysis.step_name}}&test_name={{master_flake_analysis.test_name}}">Link</a>
    </td>
  </tr>
  {% endfor %}
</tbody>
</table>
</body>
