<link rel="import" href="../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../mr-bug-link/mr-bug-link.html">
<link rel="import" href="../../redux/selectors.html">
<link rel="import" href="../../redux/redux-mixin.html">
<link rel="import" href="../shared/mr-flt-styles.html">

<dom-module id="mr-issue-table">
  <template>
    <style include="mr-flt-styles">
      :host {
        display: block;
      }
      table {
        word-wrap: break-word;
        width: 100%;
      }
      tr {
        font-size: 90%;
        font-weight: normal;
        text-align: left;
        margin: 0 auto;
        padding: 2em 1em;
        height: 20px;
      }
      td {
        background: #f8f8f8;
        padding: 4px;
        padding-left: 8px;
        text-overflow: ellipsis;
      }
      th {
        text-decoration: none;
        margin-right: 0;
        padding-right: 0;
        padding-left: 8px;
        white-space: nowrap;
        background: #e3e9ff;
        text-align: left;
        border-right: 1px solid #fff;
        border-top: 1px solid #fff;
      }
    </style>
    <h3 class="medium-heading">Blocked on issues</h3>
    <br />
    <table>
      <tr>
        <template is="dom-repeat" items="[[columns]]" as="column">
          <th>[[column]]</th>
        </template>
      </tr>
      <template is="dom-repeat" items="[[rows]]" as="row">
        <tr>
          <template is="dom-repeat" items="[[row.cells]]" as="cell">
            <td>
              <template is="dom-if" if="[[isIssue(cell)]]">
                <mr-bug-link
                  project-name="[[cell.projectName]]"
                  issue="[[cell.issue]]"
                  is-closed="[[cell.isClosed]]"
                ></mr-bug-link>
              </template>
              <template is="dom-if" if="[[isText(cell)]]">
                [[cell.content]]
              </template>
            </td>
          </template>
        </tr>
      </template>
    </table>
  </template>
  <script src="./mr-issue-table.js"></script>
</dom-module>
