<link rel="import" href="../../bower_components/app-route/app-location.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">

<link rel="import" href="/elements/activity-table.html">
<link rel="import" href="/elements/user-input.html">
<link rel="import" href="/elements/day-details.html">

<dom-module id="who-page">
  <template>
    <style>
    #table, #details {
      display: none;
    }
    </style>

    <app-location route="{{route}}"></app-location>

    <app-route route="{{route}}" pattern="/:username" data="{{_routeData}}">
    </app-route>

    <app-route route="{{route}}" pattern="/:username/:date" data="{{_routeData}}">
    </app-route>

    <user-input id="user"></user-input>
    <activity-table id="table"></activity-table>
    <day-details id="details"></day-details>
  </template>
</dom-module>

<script>
(function() {
const store = Redux.createStore((state = {}, action) => state)
const ReduxMixin = PolymerRedux(store)

class WhoPage extends ReduxMixin(Polymer.Element) {
  static get is() {
    return 'who-page';
  }

  static get properties() {
    return {
      route: Object,
      _routeData: {
        type: Object,
        value: () => {return {}; },
      },
    }
  }
}
customElements.define(WhoPage.is, WhoPage);
})();
</script>
