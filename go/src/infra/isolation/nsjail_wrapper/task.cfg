name: "task"

description: "A minimal config file for sensitive LUCI workloads"

keep_env: true

clone_newnet: true
clone_newuser: true
clone_newns: true
clone_newpid: true
clone_newipc: true
clone_newuts: true
clone_newcgroup: true

seccomp_string: "KILL {"
seccomp_string: "  create_module,"
seccomp_string: "  delete_module,"
seccomp_string: "  finit_module,"
seccomp_string: "  init_module,"
seccomp_string: "  kexec_load,"
seccomp_string: "  kexec_file_load,"
seccomp_string: "  add_key,"
seccomp_string: "  keyctl,"
seccomp_string: "  request_key,"
seccomp_string: "  move_pages,"
seccomp_string: "  mbind,"
seccomp_string: "  set_mempolicy,"
seccomp_string: "  shmat,"
seccomp_string: "  exit,"
seccomp_string: "  reboot"
seccomp_string: "}"
seccomp_string: "LOG {"
seccomp_string: "  setuid,"
seccomp_string: "  setgid,"
seccomp_string: "  seteuid,"
seccomp_string: "  setegid,"
seccomp_string: "  setreuid,"
seccomp_string: "  setregid,"
seccomp_string: "  ptrace,"
seccomp_string: "  sleep,"
seccomp_string: "  signal,"
seccomp_string: "  dlopen,"
seccomp_string: "  dlsym,"
seccomp_string: "  dlerror,"
seccomp_string: "  dlclose,"
seccomp_string: "  chmod,"
seccomp_string: "  acct,"
seccomp_string: "  name_to_handle_at,"
seccomp_string: "  open_by_handle_at,"
seccomp_string: "  ioperm,"
seccomp_string: "  iopl,"
seccomp_string: "  get_mempolicy,"
seccomp_string: "  query_module,"
seccomp_string: "  adjtimex,"
seccomp_string: "  clock_adjtime,"
seccomp_string: "  ntp_adjtime,"
seccomp_string: "  clock_settime,"
seccomp_string: "  stime,"
seccomp_string: "  settimeofday,"
seccomp_string: "  swapon,"
seccomp_string: "  swapoff"
seccomp_string: "}"
seccomp_string: "DEFAULT ALLOW"
