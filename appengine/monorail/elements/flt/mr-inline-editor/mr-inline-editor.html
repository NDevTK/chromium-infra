<link rel="import" href="../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../bower_components/chopsui/chops-button.html">
<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../shared/mr-flt-styles.html">

<dom-module id="mr-inline-editor">
  <template>
    <style include="mr-flt-styles">
      :host {
        display: block;
        width: 100%;
        color: hsl(0, 0%, 30%);
        box-sizing: border-box;
        word-wrap: break-word;
        --mr-inline-editor-textarea-min-height: 200px;
        --mr-inline-editor-textarea-max-height: 500px;
      }
      [role="heading"] {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        @apply --mr-inline-editor-header-style;
      }
      .content {
        padding: 0.5em 0;
        width: 100%;
        box-sizing: border-box;
      }
      textarea.content {
        min-height: var(--mr-inline-editor-textarea-min-height);
        max-height: var(--mr-inline-editor-textarea-max-height);
        border: 1px solid hsl(219, 60%, 71%);
        padding: 0.5em 4px;
      }
    </style>
    <div class="medium-heading" role="heading" aria-level$="[[headingLevel]]">
      [[title]]

      <template is="dom-if" if="[[!editing]]">
        <chops-button on-click="edit">
          <iron-icon icon="create"></iron-icon>
          [[editText]]
        </chops-button>
      </template>
      <template is="dom-if" if="[[editing]]">
        <div>
          <chops-button on-click="save" class="emphasized">
            <iron-icon icon="create"></iron-icon>
            Save changes
          </chops-button>
          <chops-button on-click="cancel">
            <iron-icon icon="close"></iron-icon>
            Cancel changes
          </chops-button>
        </div>
      </template>
    </div>
    <textarea id="textEditor"
        class="content"
        value="{{_displayedContent::input}}"
        hidden$="[[!editing]]"
        placeholder$="[[placeholder]]"></textarea>
    <div class="content" hidden$="[[editing]]">
      <slot></slot>
    </div>
  </template>
  <script src="./mr-inline-editor.js"></script>
<dom-module>
