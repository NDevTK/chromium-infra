# This is a text protobuf specification for the BuildBot / Kitchen completed
# steps table.
#
# For the underlying protobuf, see:
# https://chromium.googlesource.com/infra/infra/+/master/go/src/infra/libs/bqschema/tabledef/table_def.proto

table_id: "completed_builds_legacy"
name: "Legacy completed builds"
description: "Record of legacy completed build records."
partition_table: true

fields: <
  name: "master"
  description: "The name of the BuildBot master."
  type: STRING
>
fields: <
  name: "builder"
  description: "The name of the BuildBot builder."
  type: STRING
>
fields: <
  name: "build_number"
  description: "The BuildBot build number."
  type: INTEGER
>
fields: <
  name: "build_sched_msec"
  description: "The build schedule time, in milliseconds from epoch."
  type: INTEGER
>
fields: <
  name: "build_started_msec"
  description: "The build started time, in milliseconds from epoch."
  type: INTEGER
>
fields: <
  name: "build_finished_msec"
  description: "The build finished time, in milliseconds from epoch."
  type: INTEGER
>
fields: <
  name: "host_name"
  description: "The builder host name."
  type: STRING
>
fields: <
  name: "result"
  description: "The build result (enum)."
  type: STRING
>
fields: <
  name: "queue_duration_s"
  description: "The queue duration, in seconds."
  type: FLOAT
>
fields: <
  name: "execution_duration_s"
  description: "The execution duration, in seconds."
  type: FLOAT
>
fields: <
  name: "total_duration_s"
  description: "The total duration, in seconds."
  type: FLOAT
>
fields: <
  name: "patch_url"
  description: "The patch URL."
  type: STRING
>
fields: <
  name: "project"
  description: "The build's project."
  type: STRING
>
fields: <
  name: "category"
  description: "The build category (enum)."
  type: STRING
>
fields: <
  name: "bbucket_id"
  description: "The BuildBucket ID."
  type: STRING
>
fields: <
  name: "bbucket_user_agent"
  description: "The BuildBucket user agent."
  type: STRING
>
fields: <
  name: "head_revision_git_hash"
  description: "The head revision's Git hash."
  type: STRING
>
fields: <
  name: "build_id"
  description: "An identifier unique to this build. Shared with 'build_id' in steps table."
  type: STRING
>
fields: <
  name: "bbucket_bucket"
  description: "The BuildBucket bucket."
  type: STRING
>
fields: <
  name: "build_scheduled"
  description: "The time when the build was scheduled."
  type: TIMESTAMP
>
fields: <
  name: "build_started"
  description: "The time when the build was started."
  type: TIMESTAMP
>
fields: <
  name: "build_finished"
  description: "The time when the build was finished."
  type: TIMESTAMP
>
fields: <
  name: "swarming"
  description: "Swarming information."
  type: RECORD
  schema: <
    name: "host"
    description: "The host name."
    type: STRING
  >
  schema: <
    name: "run_id"
    description: "The run ID (zero out last digit for task ID)."
    type: STRING
  >
>
fields: <
  name: "kitchen"
  description: "Kitchen information."
  type: RECORD
  schema: <
    name: "version"
    description: "The Kitchen package version."
    type: STRING
  >
>
fields: <
  name: "recipes"
  description: "Recipe information."
  type: RECORD
  schema: <
    name: "repository"
    description: "The recipe repository, if checked out."
    type: STRING
  >
  schema: <
    name: "revision"
    description: "The recipe repository's revision, if checked out."
    type: STRING
  >
  schema: <
    name: "name"
    description: "The recipe name that was invoked."
    type: STRING
  >
>
