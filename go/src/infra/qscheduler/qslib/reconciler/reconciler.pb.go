// Code generated by protoc-gen-go. DO NOT EDIT.
// source: infra/qscheduler/qslib/reconciler/reconciler.proto

package reconciler

import (
	fmt "fmt"
	proto "github.com/golang/protobuf/proto"
	timestamp "github.com/golang/protobuf/ptypes/timestamp"
	math "math"
)

// Reference imports to suppress errors if they are not otherwise used.
var _ = proto.Marshal
var _ = fmt.Errorf
var _ = math.Inf

// This is a compile-time assertion to ensure that this generated file
// is compatible with the proto package it is being compiled against.
// A compilation error at this line likely means your copy of the
// proto package needs to be updated.
const _ = proto.ProtoPackageIsVersion2 // please upgrade the proto package

type TaskUpdate_Type int32

const (
	// Invalid update type.
	TaskUpdate_NULL TaskUpdate_Type = 0
	// A new task has been enqueued.
	TaskUpdate_NEW TaskUpdate_Type = 1
	// A task has been assigned to a worker.
	TaskUpdate_ASSIGNED TaskUpdate_Type = 2
	// A task that was previously assigned to a worker has been interrupted and
	// reenqueued.
	TaskUpdate_INTERRUPTED TaskUpdate_Type = 3
)

var TaskUpdate_Type_name = map[int32]string{
	0: "NULL",
	1: "NEW",
	2: "ASSIGNED",
	3: "INTERRUPTED",
}

var TaskUpdate_Type_value = map[string]int32{
	"NULL":        0,
	"NEW":         1,
	"ASSIGNED":    2,
	"INTERRUPTED": 3,
}

func (x TaskUpdate_Type) String() string {
	return proto.EnumName(TaskUpdate_Type_name, int32(x))
}

func (TaskUpdate_Type) EnumDescriptor() ([]byte, []int) {
	return fileDescriptor_320df42c60a35510, []int{0, 0}
}

// TaskUpdate represents a change in the state of an existing task, or the
// creation of a new task.
type TaskUpdate struct {
	// Time is the time at which this Update occurred.
	Time *timestamp.Timestamp `protobuf:"bytes,1,opt,name=time,proto3" json:"time,omitempty"`
	// Type describes which kind of update this represents.
	Type TaskUpdate_Type `protobuf:"varint,2,opt,name=type,proto3,enum=reconciler.TaskUpdate_Type" json:"type,omitempty"`
	// RequestId is the id of the request that is being created or updated.
	// This is supplied by the scheduler client -- for swarming this would
	// be the swarming task id.
	RequestId string `protobuf:"bytes,3,opt,name=request_id,json=requestId,proto3" json:"request_id,omitempty"`
	// WorkerId is the worker that the request is:
	// - case NEW:         <invalid> TODO(akeshet): error out if this is supplied
	// - case ASSIGNED:    starting to run on.
	// - case INTERRUPTED: previously running on.
	WorkerId string `protobuf:"bytes,4,opt,name=worker_id,json=workerId,proto3" json:"worker_id,omitempty"`
	// ProvisionableLabels is the label set for the new task.
	// This field is only relevant and should only be set for NEW type updates.
	ProvisionableLabels []string `protobuf:"bytes,5,rep,name=provisionable_labels,json=provisionableLabels,proto3" json:"provisionable_labels,omitempty"`
	// AccountId is the id of the quota account that should be charged
	// for the new task. This field is only relevant and should only be set
	// for NEW type updates.
	AccountId string `protobuf:"bytes,6,opt,name=account_id,json=accountId,proto3" json:"account_id,omitempty"`
	// EnqueueTime is the time at which a request was first enqueued. This field
	// is only relevant for NEW type updates.
	EnqueueTime          *timestamp.Timestamp `protobuf:"bytes,7,opt,name=enqueue_time,json=enqueueTime,proto3" json:"enqueue_time,omitempty"`
	XXX_NoUnkeyedLiteral struct{}             `json:"-"`
	XXX_unrecognized     []byte               `json:"-"`
	XXX_sizecache        int32                `json:"-"`
}

func (m *TaskUpdate) Reset()         { *m = TaskUpdate{} }
func (m *TaskUpdate) String() string { return proto.CompactTextString(m) }
func (*TaskUpdate) ProtoMessage()    {}
func (*TaskUpdate) Descriptor() ([]byte, []int) {
	return fileDescriptor_320df42c60a35510, []int{0}
}

func (m *TaskUpdate) XXX_Unmarshal(b []byte) error {
	return xxx_messageInfo_TaskUpdate.Unmarshal(m, b)
}
func (m *TaskUpdate) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
	return xxx_messageInfo_TaskUpdate.Marshal(b, m, deterministic)
}
func (m *TaskUpdate) XXX_Merge(src proto.Message) {
	xxx_messageInfo_TaskUpdate.Merge(m, src)
}
func (m *TaskUpdate) XXX_Size() int {
	return xxx_messageInfo_TaskUpdate.Size(m)
}
func (m *TaskUpdate) XXX_DiscardUnknown() {
	xxx_messageInfo_TaskUpdate.DiscardUnknown(m)
}

var xxx_messageInfo_TaskUpdate proto.InternalMessageInfo

func (m *TaskUpdate) GetTime() *timestamp.Timestamp {
	if m != nil {
		return m.Time
	}
	return nil
}

func (m *TaskUpdate) GetType() TaskUpdate_Type {
	if m != nil {
		return m.Type
	}
	return TaskUpdate_NULL
}

func (m *TaskUpdate) GetRequestId() string {
	if m != nil {
		return m.RequestId
	}
	return ""
}

func (m *TaskUpdate) GetWorkerId() string {
	if m != nil {
		return m.WorkerId
	}
	return ""
}

func (m *TaskUpdate) GetProvisionableLabels() []string {
	if m != nil {
		return m.ProvisionableLabels
	}
	return nil
}

func (m *TaskUpdate) GetAccountId() string {
	if m != nil {
		return m.AccountId
	}
	return ""
}

func (m *TaskUpdate) GetEnqueueTime() *timestamp.Timestamp {
	if m != nil {
		return m.EnqueueTime
	}
	return nil
}

// WorkerQueue represents the queue of qscheduler operations that are pending
// for a given worker.
//
// At present, the queue of operations for a worker can be at most 2 elements
// in length, and consist of either:
// - An Abort Job operation followed by an Assign Job operation.
// - An Assign Job operation.
//
// Therefore, instead of representing this as a list of operations, it is
// convenient to flatten this queue into a single object.
type WorkerQueue struct {
	// EnqueueTime is the time at which these operations were enqueued.
	EnqueueTime *timestamp.Timestamp `protobuf:"bytes,1,opt,name=enqueue_time,json=enqueueTime,proto3" json:"enqueue_time,omitempty"`
	// TaskToAssign is the task request that should be assigned to this worker.
	TaskToAssign string `protobuf:"bytes,2,opt,name=task_to_assign,json=taskToAssign,proto3" json:"task_to_assign,omitempty"`
	// TaskToAbort indicates the task request id that should be aborted on this worker.
	//
	// Empty string "" indicates that there is nothing to abort.
	TaskToAbort          string   `protobuf:"bytes,3,opt,name=task_to_abort,json=taskToAbort,proto3" json:"task_to_abort,omitempty"`
	XXX_NoUnkeyedLiteral struct{} `json:"-"`
	XXX_unrecognized     []byte   `json:"-"`
	XXX_sizecache        int32    `json:"-"`
}

func (m *WorkerQueue) Reset()         { *m = WorkerQueue{} }
func (m *WorkerQueue) String() string { return proto.CompactTextString(m) }
func (*WorkerQueue) ProtoMessage()    {}
func (*WorkerQueue) Descriptor() ([]byte, []int) {
	return fileDescriptor_320df42c60a35510, []int{1}
}

func (m *WorkerQueue) XXX_Unmarshal(b []byte) error {
	return xxx_messageInfo_WorkerQueue.Unmarshal(m, b)
}
func (m *WorkerQueue) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
	return xxx_messageInfo_WorkerQueue.Marshal(b, m, deterministic)
}
func (m *WorkerQueue) XXX_Merge(src proto.Message) {
	xxx_messageInfo_WorkerQueue.Merge(m, src)
}
func (m *WorkerQueue) XXX_Size() int {
	return xxx_messageInfo_WorkerQueue.Size(m)
}
func (m *WorkerQueue) XXX_DiscardUnknown() {
	xxx_messageInfo_WorkerQueue.DiscardUnknown(m)
}

var xxx_messageInfo_WorkerQueue proto.InternalMessageInfo

func (m *WorkerQueue) GetEnqueueTime() *timestamp.Timestamp {
	if m != nil {
		return m.EnqueueTime
	}
	return nil
}

func (m *WorkerQueue) GetTaskToAssign() string {
	if m != nil {
		return m.TaskToAssign
	}
	return ""
}

func (m *WorkerQueue) GetTaskToAbort() string {
	if m != nil {
		return m.TaskToAbort
	}
	return ""
}

// State represents a reconciler, which includes its configuration and the
// pending operations that are in-flight and have not been ACK'ed yet.
type State struct {
	WorkerQueues         map[string]*WorkerQueue `protobuf:"bytes,1,rep,name=worker_queues,json=workerQueues,proto3" json:"worker_queues,omitempty" protobuf_key:"bytes,1,opt,name=key,proto3" protobuf_val:"bytes,2,opt,name=value,proto3"`
	XXX_NoUnkeyedLiteral struct{}                `json:"-"`
	XXX_unrecognized     []byte                  `json:"-"`
	XXX_sizecache        int32                   `json:"-"`
}

func (m *State) Reset()         { *m = State{} }
func (m *State) String() string { return proto.CompactTextString(m) }
func (*State) ProtoMessage()    {}
func (*State) Descriptor() ([]byte, []int) {
	return fileDescriptor_320df42c60a35510, []int{2}
}

func (m *State) XXX_Unmarshal(b []byte) error {
	return xxx_messageInfo_State.Unmarshal(m, b)
}
func (m *State) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
	return xxx_messageInfo_State.Marshal(b, m, deterministic)
}
func (m *State) XXX_Merge(src proto.Message) {
	xxx_messageInfo_State.Merge(m, src)
}
func (m *State) XXX_Size() int {
	return xxx_messageInfo_State.Size(m)
}
func (m *State) XXX_DiscardUnknown() {
	xxx_messageInfo_State.DiscardUnknown(m)
}

var xxx_messageInfo_State proto.InternalMessageInfo

func (m *State) GetWorkerQueues() map[string]*WorkerQueue {
	if m != nil {
		return m.WorkerQueues
	}
	return nil
}

func init() {
	proto.RegisterEnum("reconciler.TaskUpdate_Type", TaskUpdate_Type_name, TaskUpdate_Type_value)
	proto.RegisterType((*TaskUpdate)(nil), "reconciler.TaskUpdate")
	proto.RegisterType((*WorkerQueue)(nil), "reconciler.WorkerQueue")
	proto.RegisterType((*State)(nil), "reconciler.State")
	proto.RegisterMapType((map[string]*WorkerQueue)(nil), "reconciler.State.WorkerQueuesEntry")
}

func init() {
	proto.RegisterFile("infra/qscheduler/qslib/reconciler/reconciler.proto", fileDescriptor_320df42c60a35510)
}

var fileDescriptor_320df42c60a35510 = []byte{
	// 471 bytes of a gzipped FileDescriptorProto
	0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0xff, 0x94, 0x92, 0xd1, 0x6e, 0xd3, 0x30,
	0x14, 0x86, 0x71, 0xd3, 0x6e, 0xcd, 0x49, 0x37, 0x8a, 0x41, 0xa2, 0xea, 0x84, 0xa8, 0x0a, 0x17,
	0xbd, 0x21, 0x11, 0xe5, 0x66, 0x42, 0xe2, 0x62, 0xd2, 0x22, 0x88, 0x54, 0x55, 0xe0, 0xa6, 0x1a,
	0x77, 0x91, 0x93, 0x78, 0x25, 0x6a, 0x16, 0xa7, 0xb6, 0xb3, 0xa9, 0x2f, 0xc2, 0x4b, 0xf0, 0x7a,
	0x3c, 0x00, 0xb2, 0x93, 0xd1, 0xa0, 0x5d, 0xa0, 0xdd, 0x59, 0xff, 0xf9, 0x8e, 0xff, 0xf3, 0xfb,
	0x18, 0xe6, 0x59, 0x71, 0x2d, 0xa8, 0xb7, 0x93, 0xc9, 0x0f, 0x96, 0x56, 0x39, 0x13, 0xde, 0x4e,
	0xe6, 0x59, 0xec, 0x09, 0x96, 0xf0, 0x22, 0xc9, 0xb4, 0x70, 0x38, 0xba, 0xa5, 0xe0, 0x8a, 0x63,
	0x38, 0x28, 0xe3, 0xd7, 0x1b, 0xce, 0x37, 0x39, 0xf3, 0x4c, 0x25, 0xae, 0xae, 0x3d, 0x95, 0xdd,
	0x30, 0xa9, 0xe8, 0x4d, 0x59, 0xc3, 0xd3, 0xdf, 0x1d, 0x80, 0x90, 0xca, 0xed, 0xba, 0x4c, 0xa9,
	0x62, 0xd8, 0x85, 0xae, 0x26, 0x46, 0x68, 0x82, 0x66, 0xce, 0x7c, 0xec, 0xd6, 0xed, 0xee, 0x7d,
	0xbb, 0x1b, 0xde, 0xb7, 0x13, 0xc3, 0x61, 0x0f, 0xba, 0x6a, 0x5f, 0xb2, 0x51, 0x67, 0x82, 0x66,
	0xa7, 0xf3, 0x33, 0xb7, 0x35, 0xcc, 0xe1, 0x56, 0x37, 0xdc, 0x97, 0x8c, 0x18, 0x10, 0xbf, 0x02,
	0x10, 0x6c, 0x57, 0x31, 0xa9, 0xa2, 0x2c, 0x1d, 0x59, 0x13, 0x34, 0xb3, 0x89, 0xdd, 0x28, 0x41,
	0x8a, 0xcf, 0xc0, 0xbe, 0xe3, 0x62, 0xcb, 0x84, 0xae, 0x76, 0x4d, 0xb5, 0x5f, 0x0b, 0x41, 0x8a,
	0xdf, 0xc3, 0x8b, 0x52, 0xf0, 0xdb, 0x4c, 0x66, 0xbc, 0xa0, 0x71, 0xce, 0xa2, 0x9c, 0xc6, 0x2c,
	0x97, 0xa3, 0xde, 0xc4, 0x9a, 0xd9, 0xe4, 0xf9, 0x3f, 0xb5, 0x85, 0x29, 0x69, 0x3b, 0x9a, 0x24,
	0xbc, 0x2a, 0x8c, 0xdd, 0x51, 0x6d, 0xd7, 0x28, 0x41, 0x8a, 0x3f, 0xc1, 0x80, 0x15, 0xbb, 0x8a,
	0x55, 0x2c, 0x32, 0xb1, 0x8f, 0xff, 0x1b, 0xdb, 0x69, 0x78, 0xad, 0x4c, 0xcf, 0xa1, 0xab, 0xa3,
	0xe1, 0x3e, 0x74, 0x97, 0xeb, 0xc5, 0x62, 0xf8, 0x04, 0x1f, 0x83, 0xb5, 0xf4, 0xaf, 0x86, 0x08,
	0x0f, 0xa0, 0x7f, 0xb1, 0x5a, 0x05, 0x9f, 0x97, 0xfe, 0xe5, 0xb0, 0x83, 0x9f, 0x82, 0x13, 0x2c,
	0x43, 0x9f, 0x90, 0xf5, 0xd7, 0xd0, 0xbf, 0x1c, 0x5a, 0xd3, 0x9f, 0x08, 0x9c, 0x2b, 0x93, 0xeb,
	0x9b, 0xbe, 0xed, 0xc1, 0x20, 0xe8, 0x51, 0x83, 0xe0, 0xb7, 0x70, 0xaa, 0xa8, 0xdc, 0x46, 0x8a,
	0x47, 0x54, 0xca, 0x6c, 0x53, 0x98, 0x85, 0xd8, 0x64, 0xa0, 0xd5, 0x90, 0x5f, 0x18, 0x0d, 0x4f,
	0xe1, 0xe4, 0x2f, 0x15, 0x73, 0xa1, 0x9a, 0xe7, 0x77, 0x1a, 0x48, 0x4b, 0xd3, 0x5f, 0x08, 0x7a,
	0x2b, 0xa5, 0xbf, 0xc2, 0x17, 0x38, 0x69, 0x56, 0x61, 0x7c, 0xe4, 0x08, 0x4d, 0xac, 0x99, 0x33,
	0x7f, 0xd3, 0xde, 0xb1, 0x21, 0xdd, 0x56, 0x10, 0xe9, 0x17, 0x4a, 0xec, 0xc9, 0xe0, 0xae, 0x25,
	0x8d, 0xbf, 0xc3, 0xb3, 0x07, 0x08, 0x1e, 0x82, 0xb5, 0x65, 0x7b, 0x13, 0xd4, 0x26, 0xfa, 0x88,
	0xdf, 0x41, 0xef, 0x96, 0xe6, 0x55, 0xfd, 0x99, 0x9c, 0xf9, 0xcb, 0xb6, 0x51, 0xab, 0x9f, 0xd4,
	0xd4, 0xc7, 0xce, 0x39, 0x8a, 0x8f, 0xcc, 0xc3, 0x7c, 0xf8, 0x13, 0x00, 0x00, 0xff, 0xff, 0x06,
	0xba, 0x5e, 0x5f, 0x27, 0x03, 0x00, 0x00,
}
